# `src/modules/utils` 目录

## 目录概述

`src/modules/utils` 目录提供了一系列通用的、与具体业务逻辑无关的辅助工具模块。这些模块被项目中的其他各个部分广泛使用，旨在提供标准化的、可重用的功能。

---

## 文件结构和功能

本目录当前包含以下关键模块：

-   **`logger.js`**
    -   **功能**: 提供一个集中式的、可切换的日志记录器。
    -   **职责**:
        -   **条件化日志**: 所有日志的输出都由一个全局的 `isDebugMode` 标志控制。这允许开发者在需要时开启详细的日志，而在生产环境中默认关闭，以保持控制台的干净。
        -   **状态持久化**: `isDebugMode` 的状态通过 `GM_setValue` 和 `GM_setValue` 在油猴脚本的存储中进行持久化，用户的设置在页面刷新后依然有效。
        -   **分级与专用日志**: 提供 `log`, `debug`, `error`, `warn`, `perf` (性能), 和 `translateLog` (翻译活动) 等多种日志函数，每种都有独特的前缀，便于在开发者工具中进行筛选和识别。
    -   **重要性**: 这是整个项目进行调试和性能分析的基础工具。

---

## 使用方式

任何需要记录日志的模块都可以从 `logger.js` 中导入相应的函数。例如：

```javascript
import { log, error } from './utils/logger.js';

log('这是一个普通日志信息。');
error('发生了一个错误！');
```

由于日志的输出是条件化的，开发者可以在代码中自由地添加日志记录语句，而无需担心它们会污染最终用户的控制台。日志的开关完全由 `menu.js` 模块提供的油猴菜单命令控制。